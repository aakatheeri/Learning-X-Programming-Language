<!DOCTYPE html>
<html lang="en" dir="ltr">
     <head>
          <meta charset="utf-8">
          <style>
          [v-cloak] { display: none; }
          .hidden {
               display: none;
          }
          .active {
               display: block;
          }

          </style>
     </head>
     <body>

          <div id="app" v-cloak>
               <example>

               </example>


          </div>

          <script src="https://unpkg.com/vue@next"></script>
          <script>

          const app = Vue.createApp({});

          app.component('example', {
               template: `
                    <span @click="updateMessage()">{{ message }}</span>
               `,
               data: function() {
                    return {
                         message: 'not updated'
                    }
               },
               methods: {
                    updateMessage: function() {
                         this.message = 'updated';
                         console.log(this.$el.textContent);

                         // nextTick return a promise
                         this.$nextTick(function(){
                              console.log(this.$el.textContent)
                         });
                    }
               }
          });

          app.mount('#app');

          </script>

     </body>
</html>
